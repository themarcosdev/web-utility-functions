function abreviarNomes(nome,tamanhoMax,reducaoAoTamMax){let nomeAbreviado=null;let nomesAbreviados=[];let nomes=[];if(!nome){return"Informe um nome !"}if(!tamanhoMax){tamanhoMax=30}if(!reducaoAoTamMax||reducaoAoTamMax!="S"){reducaoAoTamMax="N"}nome=nome.trim();nome=nome.toLocaleUpperCase();if(nome.length>=tamanhoMax){let posNome=0;nomes=nome.split(" ");nomeAbreviado=nomes[0];let nomesAbreviadosIgnorados=["DA","DAS","DE","DO","DOS","E","&"];let totalNomes=nomes.length-1;for(nome of nomes){if(posNome>0&&posNome<totalNomes){if(!nomesAbreviadosIgnorados.includes(nome)){if(!+nome.match(/\d+/g)){nomeAbreviado+=" "+nome.charAt(0)+"."}}}posNome++}nomeAbreviado+=" "+nomes[totalNomes]}if(nomeAbreviado&&reducaoAoTamMax=="S"){nomesAbreviados=nomeAbreviado.split(" ");let tnomesabrev=nomesAbreviados.length;for(let i=0;i<tamanhoMax;i++){if(i>0&&i<tnomesabrev){if(nomeAbreviado.length>tamanhoMax){nomeAbreviado=nomeAbreviado.replace(new RegExp(nomesAbreviados[i],"g"),"")}}}nomeAbreviado=nomeAbreviado.replace(/\s+/g," ").trim()}let nomeFinal=nomeAbreviado??nome;if(nomeAbreviado&&reducaoAoTamMax&&nomeAbreviado.length>tamanhoMax&&reducaoAoTamMax=="S"){return nomeFinal.substring(0,tamanhoMax)}else{return nomeFinal}}